Bootstrap: docker
From: nvidia/cuda:11.0.3-devel-ubuntu20.04

%post
    export DEBIAN_FRONTEND=noninteractive
    apt-get update
    apt-get install -y python3.8 python3.8-venv python3.8-dev git wget python3-pip nano
    python3.8 -m pip install pip==22.3.1
    python3.8 -m pip install absl-py==0.11.0
    # Install numpy and typing-extensions first to lock their versions
    python3.8 -m pip install numpy==1.19.5
    python3.8 -m pip install typing-extensions==3.7.4.3
    
    python3.8 -m pip install scipy==1.5.4
    python3.8 -m pip install tensorflow==2.4.0
    python3.8 -m pip install tensorboardX==2.6
    python3.8 -m pip install tqdm==4.55.1
    python3.8 -m pip install torch torchvision --extra-index-url https://download.pytorch.org/whl/cu113
    
    python3.8 -m pip install scikit-learn==0.24.2
    python3.8 -m pip install matplotlib==3.3.4
    python3.8 -m pip install omegaconf==2.1.1


%environment
    export TERM=xterm
